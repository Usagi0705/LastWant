@using X.PagedList.Mvc.Core;
@using X.PagedList;
@using X.PagedList.Web.Common;
@model IEnumerable<prjCoreWebWantWant.Models.TaskList>



    @{
        // var orderedData = Model.OrderByDescending(item => item.OnTop > DateTime.Now);
    }
    @foreach (var item in Model)
{
<div class="card text-center">
        <div class="card-header" style="background-color:	#ECF5FF;color:#005ab5;font-size:24px;">
                <span style="float:right;font-size:18px;color:#484891	">
                    <img src="~/Backstage/icon/grid.png" style="width:18px;height:18px" />@item.TaskName.TaskName
                </span>
                @if (item.OnTop > DateTime.Now)
                {
                    <div>
                    <img src="~/Backstage/icon/fire.png" style="height:24px;width:24px;float:left">　<span style="text-align:center;">@item.TaskTitle</span>
                    </div>
                }
                else
                {
                    <div style="text-align:center">
                        @item.TaskTitle
                    </div>
                }
            </div>
    <div class="row">
        <div class="card-body col-9">
            @* <h5 class="card-body">任務內容： @item.TaskDetail</h5> *@
             <h5 class="card-body" style="text-align:left;padding:12px">任務內容：</h5>
             <p style="text-align:left;padding:12px">@item.TaskDetail</p>
        </div>

        <div class="card-body col-md-3 d-flex flex-column justify-content-end">
            @*<a href="#" class="btn btn-outline-primary mb-2">應徵工作</a>*@
            <a href="@Url.Action("Detail", new { id=item.CaseId })" class="btn btn-outline-primary">詳細資訊</a>
            <a href="@Url.Content("~/Backstage/AddCollection")?id=@item.CaseId" class="btn btn-outline-primary">收藏工作</a>
        </div>

        <div class="row">
                    @if (item.WorkPlace == true )
                    {
                        <p class="card-text col-3"><i class="fa-solid fa-location-dot"></i> 地點：在家兼職</p>
                    }
                    else
                    {
                        <p class="card-text col-3"><i class="fa-solid fa-location-dot"></i> 地點： @Html.DisplayFor(modelItem => item.Town.City.City1) @Html.DisplayFor(modelItem => item.Town.Town1)</p>
                    }
                <p class="card-text col-3"><img src="~/Backstage/icon/user2.png" style="width:20px;height:20px">需求人數： @item.RequiredNum 人</p>
                @{
                    if (item.PayFrom > 1500)
                    {
                        <p class="card-text col-3"><img src="~/Backstage/icon/dollar.png" style="width:20px;height:20px">任務金額：<strong style="color:#ff7575">@item.PayFrom</strong> 元</p>
                    }
                    else if (item.PayFrom > 500)
                    {
                        <p class="card-text col-3"><img src="~/Backstage/icon/dollar.png" style="width:20px;height:20px">任務金額：<span style="color:#c07ab8">@item.PayFrom</span> 元</p>
                    }
                    else
                    {
                        <p class="card-text col-3"><img src="~/Backstage/icon/dollar.png" style="width:20px;height:20px">任務金額：<span>@item.PayFrom</span> 元</p>
                    }
                }
                <p class="card-text col-3"><img src="~/Backstage/icon/calendar_1.png" style="width:20px;height:20px">更新日： @item.DataModifyDate</p>
            @*<p class="card-text col-3">收藏任務的愛心放這</p>*@
        </div>

    </div>
    
          
 
</div>

<div>
    <p></p>
</div>
}
    <div class="d-flex justify-content-center bg-transparent border-0">
        <div class="col-7 d-flex justify-content-around">
            @Html.PagedListPager(
            (IPagedList)Model,
            page => Url.Action("Partial1", new { ViewBag.Category,page }),
            new PagedListRenderOptions {
            LiElementClasses = new string[] { "page-item" },
            PageClasses = new string[] { "page-link" },   // 設定頁碼的 CSS 類別
            UlElementClasses = new string[] { "pagination" }  // 設定 ul 元素的 CSS 類別
            }
            )
        </div>
    </div>
