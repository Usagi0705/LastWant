@model prjCoreWebWantWant.ViewModels.CRatingViewModel

@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Member/LayoutForMem.cshtml";
}



<div class="container">
    <div class="justify-content-center p-4">
        <h1>歷史評價</h1>

        <ul class="nav m-3 ">
            <li class="nav-item">
                <button class="nav-link active" onclick="clickdeploy(totask,tasked)">給別人的評價</button>
            </li>
            <li>|</li>
            <li class="nav-item">
                <button class="nav-link active" onclick="clickdeploy(tasked,totask)" aria-current="page" href="#">我收到的評價</button>
            </li>

        </ul>
        <hr class="p-1" />

    </div>


    <form style=" height:65vh " class=" border border-secondary">
        <!-- 委託 -->
        <div>
            <div id="totask" >
            <div class="row justify-content-around p-5">

                <h2 class="col-5  ">給出的評論</h2>


                <div class="justify-content-end p-4 col-7 h-50">
                    <div class="input-group " style="height:50px;">
                        <input type="text" placeholder="請輸入要搜尋的內容" aria-label="" aria-describedby="btnsearch" style="width: 400px;">
                        <button class="btn btn-secondary col-1 " type="button" id="btnsearch">搜尋</button>
                    </div>


                </div>
                <hr>
                <div class="" id="nonpublic">


                    <table class="table table-hover">
                            <thead class="expertThead">
                            <tr>
                               
                                    <td>被評論者</td>
                                <td>評論星數</td>
                                <td class="w-auto">評論內容</td>
                                <td>評論日期</td>
                                

                            </tr>
                        </thead>
                            <tbody >
                            @foreach (var item in Model.ForOtherRatings)
                            {
                                <tr>
                                  
                                    <td>
                                        @item.被評論者 
                                        
                                    </td>
                                    <td>
                                            @item.評論星數
                                    </td>


                                    <td class="w-50">
                                        @Html.DisplayFor(modelItem => item.評論內容)
                                    </td>
                                        <td>@Html.DisplayFor(modelItem => item.評論日期)</td>
                                   

                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
           
            </div>
            <div id="tasked" class="displayno">
                <div class="row justify-content-around p-5 ">

                    <h2 class="col-5 ">收到的評論</h2>

                    <div class="row justify-content-end p-4 col-7 h-50">
                        <div class="input-group w">
                            <input type="text" placeholder="請輸入要搜尋的內容" aria-label="" aria-describedby="btnsearch" style="width: 400px;">
                            <button class="btn btn-secondary col-1 " type="button" id="btnsearch">搜尋</button>
                        </div>


                    </div>
                    <hr>
                </div>
                <div class="">

                    <table class="table table-hover ">
                        <thead class="expertThead">
                            <tr>
                                <td class="w-15">評論者</td>
                                <td class="w-15">評論星數</td>
                                <td class="w-50">評論內容</td>
                                <td class="w-20">評論日期</td>
                            </tr>
                        </thead>
                        <tbody class="expertTbody">
                            
                            @foreach (var item in Model.MyRatings)
                            {
                                <tr>
                                    <td class="w-15">
                                        @Html.DisplayFor(modelItem => item.評論者) 
                                        
                                    </td>
                                    <td class="w-15">
                                        @Html.DisplayFor(modelItem => item.評論星數)
                                    </td>
                                    <td class="w-50">
                                        @Html.DisplayFor(modelItem => item.評論內容)
                                        
                                    </td>
                                    <td class="w-20">@Html.DisplayFor(modelItem => item.評論日期)</td>
                                </tr>
                             
                               
                                
                            }
                          
                        </tbody>
                    </table>
                </div>
            </div>

        </div>
    </form>
</div>


@section Styles{

    <link type="text/css" rel="stylesheet" href="~/Expert/css/expertstyle.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.css" />
        }
@section Scripts{
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.js"></script>
    <script>
        var datas = @Html.Raw(Model.ForOtherRatings);
        new DataTable('#example', {
            data: datas,
            columns: [
                { data: '被評論者' },
                { data: '評論星數' },
                { data: '評論內容' },
                { data: '評論日期' },
                { data: '評論者' },
          
            ]
        });


    </script>
    <script src="~/Expert/js/expert.js"></script>
    <script src="~/Expert/js/bootstrap.bundle.js"></script>
    <script src="~/Expert/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
            crossorigin="anonymous"></script>
   
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }

}
